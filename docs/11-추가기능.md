# 추가 기능

새로 추가된 기능들을 알아봅시다!

---

## 발소리 시스템 (FootstepSystem)

바닥 재질에 따라 다른 발소리가 나요.

### 설정 방법

1. 플레이어에 **FootstepSystem** 스크립트 추가
2. 바닥 오브젝트에 태그 설정 (예: "Wood", "Metal", "Concrete")
3. `footstepSets`에 태그별 사운드 추가

### Inspector 설정

| 설정 | 설명 |
|------|------|
| Walk Step Interval | 걷기 발소리 간격 |
| Sprint Step Interval | 달리기 발소리 간격 |
| Walk Volume | 걷기 볼륨 |
| Sprint Volume | 달리기 볼륨 |

---

## 조명 깜빡임 (LightFlicker)

공포 분위기를 위한 조명 효과예요.

### 깜빡임 종류

| 타입 | 설명 |
|------|------|
| Random | 랜덤하게 깜빡임 |
| Pattern | 패턴대로 깜빡임 (예: "11101110") |
| Candle | 촛불처럼 부드럽게 |
| Broken | 고장난 조명처럼 갑자기 꺼짐 |
| Pulse | 천천히 밝아졌다 어두워짐 |

### 설정 방법

1. Light가 있는 오브젝트에 **LightFlicker** 추가
2. `flickerType` 선택
3. 강도와 속도 조절

### 코드에서 사용

```csharp
LightFlicker light = GetComponent<LightFlicker>();

// 깜빡이며 끄기
light.FlickerAndTurnOff(2f);

// 타입 변경
light.SetFlickerType(LightFlicker.FlickerType.Broken);
```

---

## 메모 시스템 (ReadableNote)

스토리나 힌트를 전달하는 읽을 수 있는 메모예요.

### 설정 방법

1. 메모 오브젝트에 **ReadableNote** 스크립트 추가
2. `noteTitle`과 `noteContent` 입력
3. 필요하면 `noteImage` 추가

### Inspector 설정

| 설정 | 설명 |
|------|------|
| Note Title | 메모 제목 |
| Note Content | 메모 내용 |
| Note Image | 메모에 포함된 이미지 |
| Collect On Read | 읽으면 자동 수집 |
| Read Once | 한 번만 읽기 가능 |

### 메모 UI

**NoteUI** 컴포넌트를 Canvas에 추가하면 메모를 예쁘게 표시해요.

---

## 심장박동 효과 (HeartbeatEffect)

위험할 때 심장이 빨리 뛰는 효과예요!

### 기능

- 위험도에 따라 심장박동 속도 변화
- 화면 가장자리 붉은 비네트
- 컨트롤러 진동

### 설정 방법

1. 플레이어 또는 매니저에 **HeartbeatEffect** 추가
2. `heartbeatClip`에 심장 소리 추가
3. `enemyLayer`에 적 레이어 설정

### 코드에서 사용

```csharp
HeartbeatEffect heart = GetComponent<HeartbeatEffect>();

// 위험도 수동 설정 (0~1)
heart.SetDangerLevel(0.8f);

// 최대 위험 상태로 (점프스케어용)
heart.TriggerMaxDanger(2f);
```

---

## VR 편의 설정 (VRComfortSettings)

VR 멀미를 줄이는 설정들이에요.

### 기능

| 기능 | 설명 |
|------|------|
| 이동 비네트 | 이동할 때 화면 가장자리 어둡게 |
| 스냅 턴 | 45도씩 회전 (부드러운 회전 대신) |
| 텔레포트 페이드 | 순간이동 시 화면 페이드 |
| 앉아서 플레이 | 앉은 자세 높이 보정 |

### 코드에서 사용

```csharp
VRComfortSettings settings = VRComfortSettings.Instance;

// 스냅 턴
settings.SnapTurn(true);  // 오른쪽 45도

// 앉아서 플레이 모드
settings.ApplySeatedMode();

// 설정 저장/불러오기
settings.SaveSettings();
settings.LoadSettings();
```

---

## 목표 시스템 (ObjectiveSystem)

게임 목표를 추적하고 표시해요.

### 설정 방법

1. 게임 매니저에 **ObjectiveSystem** 추가
2. 코드에서 목표 추가

### 코드에서 사용

```csharp
ObjectiveSystem obj = ObjectiveSystem.Instance;

// 목표 추가
obj.AddObjective("find_keys", "열쇠 찾기", "3개의 열쇠를 찾으세요", false, 3);

// 진행도 업데이트
obj.IncrementObjectiveProgress("find_keys");

// 목표 완료
obj.CompleteObjective("find_keys");

// 완료 여부 확인
if (obj.IsObjectiveCompleted("find_keys")) {
    // ...
}
```

---

## 체크포인트 시스템 (CheckpointSystem)

게임 진행 상황을 저장해요.

### 체크포인트 만들기

1. 빈 오브젝트 생성
2. **Checkpoint** 스크립트 추가
3. Box Collider (Is Trigger) 추가
4. `checkpointId` 설정

### 저장되는 것들

- 플레이어 위치
- 스태미나, 배터리
- 수집한 열쇠/아이템
- 열린 문 상태
- 완료된 목표

### 코드에서 사용

```csharp
CheckpointSystem save = CheckpointSystem.Instance;

// 수동 저장
save.SaveGame();

// 불러오기
save.LoadGame();

// 마지막 체크포인트로 복귀
save.RespawnAtLastCheckpoint();
```

---

## 랜덤 이벤트 (RandomEventTrigger)

무작위로 공포 이벤트가 발생해요!

### 트리거 방식

| 방식 | 설명 |
|------|------|
| OnEnter | 영역 진입 시 |
| OnStay | 영역에 있는 동안 |
| TimeBased | 일정 시간마다 자동 |
| Manual | 코드로 호출 |

### 이벤트 설정

각 이벤트에 설정할 수 있는 것들:

- 사운드 재생
- 오브젝트 활성화/비활성화
- 조명 깜빡임
- 컨트롤러 진동

### 설정 방법

1. 빈 오브젝트에 **RandomEventTrigger** 추가
2. Box Collider (Is Trigger) 추가
3. `randomEvents` 배열에 이벤트 추가
4. `triggerChance`로 확률 설정

---

## 호흡 시스템 (BreathingSystem)

상황에 따라 호흡 소리가 달라져요.

### 호흡 상태

| 상태 | 언제 |
|------|------|
| Normal | 평상시 |
| Heavy | 달리는 중 |
| Scared | 적이 가까이 |
| Exhausted | 스태미나 바닥 |
| Recovering | 회복 중 |

### 설정 방법

1. 플레이어에 **BreathingSystem** 추가
2. 각 상태별 호흡 사운드 추가

---

## 문틈 엿보기 (DoorPeek)

문을 살짝 열어 안을 확인할 수 있어요.

### 설정 방법

1. Door 오브젝트에 **DoorPeek** 스크립트 추가
2. 문 손잡이 위치에 `peekHandle` 설정
3. Collider 추가

### 사용 방법

1. 문에 손을 가까이 대고
2. 그립 버튼으로 잡고
3. 천천히 당기면 문이 살짝 열려요

---

## 다음 단계

추가 기능들을 알았어요! 문제가 있으면 아래 문서를 확인하세요.

[문제 해결 >](10-문제해결.md)
